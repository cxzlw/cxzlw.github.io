// import {precacheAndRoute} from 'workbox-precaching';

importScripts(
    'https://lib.baomitu.com/workbox-sw/7.0.0/workbox-sw.min.js'
);

const {StaleWhileRevalidate, NetworkFirst} = workbox.strategies; 
const {registerRoute} = workbox.routing; 
const {warmStrategyCache} = workbox.recipes;
const {clientsClaim} = workbox.core;

const staleWhileRevalidate = new StaleWhileRevalidate(); 
const networkFirst = new NetworkFirst(); 

registerRoute(/^https:\/\/lib\.baomitu\.com\/.*/, staleWhileRevalidate, "GET"); 
registerRoute(/^https:\/\/at\.alicdn\.com\/.*/, staleWhileRevalidate, "GET"); 
registerRoute(/^https:\/\/v1\.hitokoto\.cn\/.*/, staleWhileRevalidate, "GET"); 
registerRoute(/^https:\/\/blog\.cxzlw\.top\/.*/, networkFirst, "GET"); 
registerRoute(/^http:\/\/localhost:8000\/.*\.html/, networkFirst, "GET"); 
// registerRoute(/^http:\/\/localhost:8000\/.*/, staleWhileRevalidate, "GET"); 

const urls = [{"revision":"efa43d35da457ee172f534863a619cd6","url":"2023/07/05/trace-of-line-01/index.html"},{"revision":"468319c23bbdc5eebd184c3ffc9f1ecb","url":"2023/07/05/zhihu-aac-old/index.html"},{"revision":"ddb85963a6ddd0fcf4fcd5797c8c4e0f","url":"2023/07/06/zerotier-planet-convert/index.html"},{"revision":"b3f5c3c1e307e94688b6cbf781c888a6","url":"2023/07/10/trace-of-line-02/index.html"},{"revision":"d653469dbe0147aad54a57c07b98a4c6","url":"2023/08/04/permission-system-design-share/index.html"},{"revision":"7eb899f343cc0700e4cf74780410fc4d","url":"2023/08/31/cell-structure/index.html"},{"revision":"4d74b13c75c8a67093d2870a90058d7e","url":"2023/10/03/busuanzi-bug/index.html"},{"revision":"65b2ee64ff6bb0166bda0e9df884ccd8","url":"2024/07/11/json-format/index.html"},{"revision":"c04fb28bcf3a9c3fa0c3ca43d5712cd3","url":"404.html"},{"revision":"ddfc860cca96014fe946e5cecf0792cc","url":"about/index.html"},{"revision":"c88d17f20d95e21bf47a9f4816ea343b","url":"archives/2023/07/index.html"},{"revision":"5fbbe61960c7d7c4ca2dc6bf18dc2244","url":"archives/2023/08/index.html"},{"revision":"378a164434335d05cd78733194926d99","url":"archives/2023/10/index.html"},{"revision":"be17fb616a695a72a585875b1e6ea044","url":"archives/2023/index.html"},{"revision":"56a7a6c4c25a4b286c2ccb0f2d6f628b","url":"archives/2024/07/index.html"},{"revision":"74fed6f583d1f0c4ab60cab44bf435ea","url":"archives/2024/index.html"},{"revision":"d651a1b654915ebb0b1e4cef906e9173","url":"archives/index.html"},{"revision":"242837d47be8b7c244eb3b8bfc38e027","url":"baidu_verify_codeva-0rhRRODu4H.html"},{"revision":"62b328640af6af42478c54f90e3b245b","url":"BingSiteAuth.xml"},{"revision":"91199898bce22b6d2f0bdea89bd90508","url":"categories/index.html"},{"revision":"5ce280d86637a41c57fdc51fd463237a","url":"css/gitalk.css"},{"revision":"09eec97898295432630da6fed8bd7e92","url":"css/highlight-dark.css"},{"revision":"98895d055f94314f613630dda0deacf4","url":"css/highlight.css"},{"revision":"01eef916fb668ecc9b8a92eb148f97dd","url":"css/main.css"},{"revision":"71cb12d00310a7852b853744c41d9a34","url":"favicon.ico"},{"revision":"ea11c930cb20962f72c29f0e2931bfbd","url":"img/animal.jpg"},{"revision":"2d9aa61e592b26e2745f3c161c48c397","url":"img/avatar.png"},{"revision":"beb05a6b5b201044b6d80cacdf29f905","url":"img/default.png"},{"revision":"5603316bb5bc54a9d5cab14fddd4c510","url":"img/fluid.png"},{"revision":"4d772ced566ade339ca6718c7ed38674","url":"img/image-1.png"},{"revision":"dcfafd0cc238b0a63a733edd1a70bcfe","url":"img/image-2.png"},{"revision":"5ba9885de31a8d1e8df04a1d915b1069","url":"img/image-3.png"},{"revision":"3d2983fa8549bb6a93b7b905a6baea9c","url":"img/image-4.png"},{"revision":"55692e23130e9504505085798384e43e","url":"img/image-5.png"},{"revision":"88c5e4fa4dec4b514a5d0d53b72d75c7","url":"img/image-6.png"},{"revision":"e52801ec8fe9abad24f24c8d96402fb3","url":"img/image-7.png"},{"revision":"3f940453e65f4635917f162b9a1d1432","url":"img/image-8.png"},{"revision":"47c43a3db8dca516e147f6f38324c1eb","url":"img/image-9.png"},{"revision":"18a13cfe951c406bbb4da3a7e7bc8ca2","url":"img/image.png"},{"revision":"a88a6883f6f27cd7b95a3ae753f91a40","url":"img/img-20231004-chrome-busuanzi.png"},{"revision":"f6f63a28b80c91ec49153f37df82f42d","url":"img/img-20231004-safari-busuanzi.png"},{"revision":"15657539044e11a19a1c6c7e3073d1b3","url":"img/loading.gif"},{"revision":"1b164cde9b70a49e2f3831d211be9f66","url":"img/plant.jpg"},{"revision":"b769e8dfde5660239317ed60758dba13","url":"img/police_beian.png"},{"revision":"74669a1c8e0c10b60ff13c2430adae44","url":"img/prokaryotic.jpg"},{"revision":"c26e7ee01d8e84df6cb2240baa3ffc14","url":"index.html"},{"revision":"7683fab2fc9d03a3a659aa956b3a54e8","url":"js/boot.js"},{"revision":"605f587be2ab3d36472bb03ac27ede65","url":"js/color-schema.js"},{"revision":"7fa076a71a5559d89af6b0c6dfd3a0d2","url":"js/events.js"},{"revision":"a62feede0189fe66290e8959528b674f","url":"js/image-ng.js"},{"revision":"fab30a410e5f490fce3f977a6936a714","url":"js/img-lazyload.js"},{"revision":"fb4a815ccdb5d851d00561dbb62251c4","url":"js/leancloud.js"},{"revision":"9dc47a0b7b6bacfd16541c9b2b5b6bc5","url":"js/local-search.js"},{"revision":"6c10bee3f659ca91b534bf4a81d62f1e","url":"js/plugins.js"},{"revision":"bc2f15d100bdd8e7ecbaf2ca670a714f","url":"js/progressbar-done.js"},{"revision":"8a36a7c42b0d15eb06cbdef6c03dd803","url":"js/statistics.js"},{"revision":"f7ce9014de1cd7358eeb3aba81c8efe2","url":"js/utils.js"},{"revision":"dc783a52c0b7b21b873bdebcf1c6bd98","url":"links/index.html"},{"revision":"f9942b358ca44afd0caef0324acbc801","url":"local-search.xml"},{"revision":"2c05df6d7bb0baccb900cfc636a8748a","url":"sitemap.xml"},{"revision":"7c78b234bd0d49ac13d73eb3c1adf739","url":"tags/busuanzi/index.html"},{"revision":"d95e6d1211f17f77d153f23436c67605","url":"tags/cxzlw/index.html"},{"revision":"ef0a980cbbcea2dcdeb120cb6417e275","url":"tags/Fluid/index.html"},{"revision":"2710be82ff0db753c665c8e73a2980f1","url":"tags/Hexo/index.html"},{"revision":"a8a849af7dd7d7f3cfc24b603484ae8b","url":"tags/index.html"},{"revision":"e7cc57f0ab01b82ec999c06d68000f41","url":"tags/Python/index.html"},{"revision":"67ae1ba5aa103324caa87d06be6b298b","url":"tags/Zerotier/index.html"},{"revision":"5df40b93c96559d537a275cf2e5c9e19","url":"tags/不蒜子/index.html"},{"revision":"b3c8efda7217f3a06b1f3015ee79954b","url":"tags/反爬/index.html"},{"revision":"52c12becb4077b64f7ebc2de032129b6","url":"tags/小说/index.html"},{"revision":"35231ec4d8d1db4b80aa4447d5b65204","url":"tags/权限系统/index.html"},{"revision":"a1f21150cebc0a12e1676b94567c11dd","url":"tags/知乎/index.html"},{"revision":"20cb6779f5acf9871d650fb63a3821f8","url":"tags/离谱网文/index.html"},{"revision":"5e10604d92e160656a6826165af99991","url":"tags/自建-Planet/index.html"},{"revision":"a60d66866f77a56c4bfe972d65408e86","url":"tags/路过的某个学渣/index.html"},{"revision":"b3072a243dac6acf09143f333e1f6873","url":"tags/飞石/index.html"},{"revision":"decd4b8f6af7e1c9d8ae97249ac786fa","url":"xml/local-search.xml"}].map(element => element["url"]);
const index_urls = urls.filter(url => url.endsWith("index.html")).map(url => url.substring(0, url.length - 10)); 

warmStrategyCache({urls:urls, strategy:staleWhileRevalidate}); 
warmStrategyCache({urls:index_urls, strategy:networkFirst}); 

skipWaiting()
clientsClaim()
