// import {precacheAndRoute} from 'workbox-precaching';

importScripts(
    'https://lib.baomitu.com/workbox-sw/7.0.0/workbox-sw.min.js'
);

const {StaleWhileRevalidate, NetworkFirst} = workbox.strategies; 
const {registerRoute} = workbox.routing; 
const {warmStrategyCache} = workbox.recipes;
const {clientsClaim} = workbox.core;

const staleWhileRevalidate = new StaleWhileRevalidate(); 
const networkFirst = new NetworkFirst(); 

registerRoute(/^https:\/\/lib\.baomitu\.com\/.*/, staleWhileRevalidate, "GET"); 
registerRoute(/^https:\/\/at\.alicdn\.com\/.*/, staleWhileRevalidate, "GET"); 
registerRoute(/^https:\/\/v1\.hitokoto\.cn\/.*/, staleWhileRevalidate, "GET"); 
registerRoute(/^https:\/\/blog\.cxzlw\.top\/.*/, networkFirst, "GET"); 
registerRoute(/^http:\/\/localhost:8000\/.*\.html/, networkFirst, "GET"); 
// registerRoute(/^http:\/\/localhost:8000\/.*/, staleWhileRevalidate, "GET"); 

const urls = [{"revision":"dfe444dcba6aeeac2ea2ad9c49143e31","url":"2023/07/05/trace-of-line-01/index.html"},{"revision":"ed16d148a6684d91179cb55f13740822","url":"2023/07/05/zhihu-aac-old/index.html"},{"revision":"d127aaaee02ed440b8dcb6e81a2e97f7","url":"2023/07/06/zerotier-planet-convert/index.html"},{"revision":"028c4d4719ff887b12cda1f4d5da63fb","url":"2023/07/10/trace-of-line-02/index.html"},{"revision":"453d4f07e4d8d96af3fd04e041456d88","url":"2023/08/04/permission-system-design-share/index.html"},{"revision":"0d8843a7d2561c69998a835924f43b46","url":"2023/08/04/test-latex/index.html"},{"revision":"3af95d5683bf83f7a2dad589e3e8dee9","url":"2023/08/31/cell-structure/index.html"},{"revision":"54c763e97a15a40987f0d94e1383c014","url":"404.html"},{"revision":"327dae0141b8fad90c900a4f48773a81","url":"about/index.html"},{"revision":"965c8e5439aa037ad59acb1b849f93d9","url":"archives/2023/07/index.html"},{"revision":"8c5cf8e5a0d5f8eed115c400ebd7e7eb","url":"archives/2023/08/index.html"},{"revision":"49f48a01cc013e54e8c67b707573f6c6","url":"archives/2023/index.html"},{"revision":"d37eee9c377bcc8268580a359f7b97b9","url":"archives/index.html"},{"revision":"242837d47be8b7c244eb3b8bfc38e027","url":"baidu_verify_codeva-0rhRRODu4H.html"},{"revision":"62b328640af6af42478c54f90e3b245b","url":"BingSiteAuth.xml"},{"revision":"9e141ca0f857b916bfb59a1f983b693e","url":"categories/index.html"},{"revision":"5ce280d86637a41c57fdc51fd463237a","url":"css/gitalk.css"},{"revision":"be3af4b8abf2074e66acb737867c43dc","url":"css/highlight-dark.css"},{"revision":"fdd56de5edd1e833674574fdc74bbfe7","url":"css/highlight.css"},{"revision":"7d6d29df18411568c1ae622605bc1907","url":"css/main.css"},{"revision":"71cb12d00310a7852b853744c41d9a34","url":"favicon.ico"},{"revision":"ea11c930cb20962f72c29f0e2931bfbd","url":"img/animal.jpg"},{"revision":"2d9aa61e592b26e2745f3c161c48c397","url":"img/avatar.png"},{"revision":"beb05a6b5b201044b6d80cacdf29f905","url":"img/default.png"},{"revision":"5603316bb5bc54a9d5cab14fddd4c510","url":"img/fluid.png"},{"revision":"4d772ced566ade339ca6718c7ed38674","url":"img/image-1.png"},{"revision":"dcfafd0cc238b0a63a733edd1a70bcfe","url":"img/image-2.png"},{"revision":"5ba9885de31a8d1e8df04a1d915b1069","url":"img/image-3.png"},{"revision":"3d2983fa8549bb6a93b7b905a6baea9c","url":"img/image-4.png"},{"revision":"55692e23130e9504505085798384e43e","url":"img/image-5.png"},{"revision":"18a13cfe951c406bbb4da3a7e7bc8ca2","url":"img/image.png"},{"revision":"15657539044e11a19a1c6c7e3073d1b3","url":"img/loading.gif"},{"revision":"1b164cde9b70a49e2f3831d211be9f66","url":"img/plant.jpg"},{"revision":"b769e8dfde5660239317ed60758dba13","url":"img/police_beian.png"},{"revision":"74669a1c8e0c10b60ff13c2430adae44","url":"img/prokaryotic.jpg"},{"revision":"0a0676ed4ffaad0148f3fdcb58e6a61a","url":"index.html"},{"revision":"7683fab2fc9d03a3a659aa956b3a54e8","url":"js/boot.js"},{"revision":"605f587be2ab3d36472bb03ac27ede65","url":"js/color-schema.js"},{"revision":"7fa076a71a5559d89af6b0c6dfd3a0d2","url":"js/events.js"},{"revision":"fab30a410e5f490fce3f977a6936a714","url":"js/img-lazyload.js"},{"revision":"fb4a815ccdb5d851d00561dbb62251c4","url":"js/leancloud.js"},{"revision":"9dc47a0b7b6bacfd16541c9b2b5b6bc5","url":"js/local-search.js"},{"revision":"6c10bee3f659ca91b534bf4a81d62f1e","url":"js/plugins.js"},{"revision":"bc2f15d100bdd8e7ecbaf2ca670a714f","url":"js/progressbar_done.js"},{"revision":"9a3939e6e13a11be286af20a9237bafe","url":"js/statistics.js"},{"revision":"f7ce9014de1cd7358eeb3aba81c8efe2","url":"js/utils.js"},{"revision":"61e3f5cc466e4f481ba6f4a1b63090e7","url":"links/index.html"},{"revision":"b16ec044015d222a59ee6f9a6645b1da","url":"local-search.xml"},{"revision":"0ff2f27b564a732c3568030fa69291d2","url":"sitemap.xml"},{"revision":"fe666d9f781c42aa063793ffc298d733","url":"tags/cxzlw/index.html"},{"revision":"81ab50513c579a19e488b05edf88ebe2","url":"tags/index.html"},{"revision":"c0943c07efc2cd4d5b3acab30dab1225","url":"tags/Python/index.html"},{"revision":"6c6f206452b51f686df02b64ebb31e8d","url":"tags/Zerotier/index.html"},{"revision":"8443bf47bc701c2b7617b815b905f058","url":"tags/反爬/index.html"},{"revision":"8f91b9a630e09442f0b11c57266b3cbb","url":"tags/小说/index.html"},{"revision":"16923a627dba3370b9d9322b42340904","url":"tags/权限系统/index.html"},{"revision":"ec35ff5f4a2c5482fd6d6057c09f0a1b","url":"tags/知乎/index.html"},{"revision":"7cdbe661d3ef0a7be0ff4f0b92f98b77","url":"tags/离谱网文/index.html"},{"revision":"5fda0c893750f26ec777e4b155a60efb","url":"tags/自建-Planet/index.html"},{"revision":"963c535632f53c8a5459484188da2842","url":"tags/路过的某个学渣/index.html"},{"revision":"105fc82f9f079bf3ee4efee69c3ea9f0","url":"tags/飞石/index.html"},{"revision":"decd4b8f6af7e1c9d8ae97249ac786fa","url":"xml/local-search.xml"}].map(element => element["url"]);
const index_urls = urls.filter(url => url.endsWith("index.html")).map(url => url.substring(0, url.length - 10)); 

warmStrategyCache({urls:urls, strategy:staleWhileRevalidate}); 
warmStrategyCache({urls:index_urls, strategy:staleWhileRevalidate}); 

skipWaiting()
clientsClaim()
